
\begin{comment}
	\jw{Introduction qvasrs $\rightarrow$ summary precision improvement \\
	- What are qvasr? How to compute their reachability relation $\rightarrow$ Parikh image? \\ 
	How do they improve precision? \\
	- running example to qvasrs \\
	\vspace{1cm}
	15 pages}
\end{comment}
In the previous chapter, we have seen how to compute a summary for a given transition formula using \qvasr-abstractions. However, these summaries are representing transitions nondeterministically.
We see in the summary, depicted in Figure \ref{loopSummary}, that neither the loop guard \texttt{x <= 20} nor the expressions of the \texttt{if else} statement, \texttt{x <= 10} and \texttt{x > 10}, are considered in the \qvasr-abstraction $(\tilde{S}_L, \tilde{V}_L)$, leading to the inclusion of transitions that would violate these conditions in the actual loop and would therefore not exist. \\
To exclude such transitions, and with that improve precision of the summary, we constrain \qvasr: We only allow transitions that satisfy a set of constraints $C$ modeled by first-order formulas. Using the constraints in $C$ as control states, we can construct a nondeterministic finite automaton that represents all allowed transitions. This automaton is called a \qvasr with states (\qvasrs), where each transition is labeled by a reset, addition vector pair $(\vec{r}, \vec{a})$. The predicates are pairwise unsatisfiable, minimizing the automaton's possible successor state space. A vector $\vec{x}$ can only transition to $\vec{x}'$ if there is an edge $(p, (\vec{r}, \vec{a}), q)$, with $\vec{x}' = \vec{r} * \vec{x} + \vec{a}$ and $p, q \in P$.
Figure \ref{vasrs} shows the \qvasrs of $P$'s loop, it was constructed using $(\tilde{S}_L, \tilde{V}_L)$, seen in Figure \ref{vasr}, and the predicates $x \leq 10$ and $10 < x \land x \leq 20$ as states.
\begin{figure}[H]
	\input{fig/qvasrs_ex_p0.tex}
	\caption{\\ \qvasrs of the loop of $P$.}
	\label{vasrs}
\end{figure}
We see that there are no transitions that violate the \texttt{if else} conditions. \par